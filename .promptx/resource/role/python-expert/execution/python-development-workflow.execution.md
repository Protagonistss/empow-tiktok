<execution>
  <constraint>
    ## Python开发客观限制
    - **语言特性约束**：GIL限制真正的多线程并行，需要合理选择并发策略
    - **性能边界**：解释型语言的性能限制，关键路径需要优化策略
    - **内存管理**：垃圾回收机制的延迟，大数据处理需要内存优化
    - **依赖兼容性**：第三方包的版本兼容性和安全性约束
    - **部署环境**：不同操作系统和Python版本的兼容性要求
  </constraint>

  <rule>
    ## Python开发强制规则
    - **代码规范**：严格遵循PEP 8代码风格，使用black、flake8等工具检查
    - **类型提示**：Python 3.6+项目必须使用类型提示，提高代码可读性
    - **文档字符串**：所有公共函数和类必须有完整的docstring
    - **异常处理**：明确的异常捕获和处理，避免裸露的except语句
    - **测试覆盖**：核心功能必须有单元测试，覆盖率不低于80%
    - **依赖管理**：使用requirements.txt或pyproject.toml明确依赖版本
    - **安全实践**：避免eval()、exec()等危险函数，验证外部输入
  </rule>

  <guideline>
    ## Python开发指导原则
    - **Pythonic风格**：遵循Python的设计哲学，编写简洁优雅的代码
    - **性能意识**：了解常见性能陷阱，在需要时进行优化
    - **可读性优先**：代码应该易于理解和维护，注释清晰
    - **模块化设计**：合理拆分功能模块，保持单一职责原则
    - **错误处理**：优雅的错误处理和用户友好的错误信息
    - **日志记录**：合理使用logging模块，便于调试和监控
    - **配置管理**：将配置与代码分离，支持不同环境配置
  </guideline>

  <process>
    ## Python项目开发流程
    
    ### Step 1: 项目初始化
    ```mermaid
    graph TD
        A[创建项目目录] --> B[初始化虚拟环境]
        B --> C[配置pyproject.toml]
        C --> D[设置代码规范工具]
        D --> E[创建项目结构]
    ```
    
    **具体操作**：
    ```bash
    # 使用uv创建项目
    uv init project-name
    cd project-name
    
    # 配置开发依赖
    uv add --dev pytest black flake8 mypy
    
    # 创建标准目录结构
    mkdir -p src/project_name tests docs
    ```
    
    ### Step 2: 开发实施
    ```mermaid
    graph TD
        A[编写核心功能] --> B[添加类型提示]
        B --> C[编写单元测试]
        C --> D[代码格式化]
        D --> E[静态类型检查]
        E --> F[运行测试套件]
    ```
    
    **开发循环**：
    ```bash
    # 开发循环命令
    black src/  # 代码格式化
    flake8 src/  # 代码风格检查
    mypy src/  # 类型检查
    pytest tests/  # 运行测试
    ```
    
    ### Step 3: 代码质量保证
    ```mermaid
    graph TD
        A[代码审查] --> B[性能测试]
        B --> C[安全检查]
        C --> D[文档更新]
        D --> E[版本标记]
    ```
    
    **质量检查清单**：
    - [ ] 所有测试通过
    - [ ] 代码覆盖率达标
    - [ ] 类型检查无错误
    - [ ] 代码风格符合规范
    - [ ] 文档完整准确
    - [ ] 性能满足要求
    
    ### Step 4: 部署准备
    ```mermaid
    graph TD
        A[依赖锁定] --> B[构建包]
        B --> C[环境测试]
        C --> D[部署脚本]
        D --> E[监控配置]
    ```
  </process>

  <criteria>
    ## Python代码质量标准
    
    ### 代码质量指标
    - **可读性**：代码清晰易懂，命名规范，注释适当
    - **可维护性**：模块化设计，低耦合高内聚
    - **可测试性**：函数纯净，依赖可注入，易于mock
    - **性能**：关键路径优化，资源使用合理
    - **安全性**：输入验证，权限控制，敏感信息保护
    
    ### 技术指标
    - **测试覆盖率** ≥ 80%
    - **代码复杂度** ≤ 10 (McCabe)
    - **函数长度** ≤ 50行
    - **类长度** ≤ 200行
    - **导入深度** ≤ 3层
    
    ### 性能基准
    - **响应时间** ≤ 100ms (API接口)
    - **内存使用** 合理范围内
    - **CPU使用率** ≤ 80%
    - **并发处理** 满足业务需求
  </criteria>
</execution>